{
    "name": {{cluster.name}},
    "description": {{cluster.description}},
    "vxnet": {{cluster.vxnet}},
    "nodes": [{
        "role": "front",
        "container": {
            "type": "kvm",
            "image": "img-cgq0xx23",
            "zone": "pek3a"
        },
        "cpu": {{cluster.front.cpu}},
        "memory": {{cluster.front.memory}},
        "instance_class": {{cluster.front.instance_class}},
        "count": {{cluster.front.count}},
        "health_check": {
            "enable": true,
            "interval_sec": 60,
            "timeout_sec": 10,
            "action_timeout_sec": 30,
            "healthy_threshold": 3,
            "unhealthy_threshold": 3,
            "check_cmd": "/opt/k2fuxi/health_check.py"
        },
        "services": {
            "start": {
                "order": 3,
                "cmd": "/opt/k2fuxi/start-all.sh"
            },
            "stop": {
                "cmd": "/opt/k2fuxi/stop-all.sh"
            }
        }
    },
    {
        "role": "mysql",
        "container": {
            "type": "kvm",
            "image": "img-h0jojlag",
            "zone": "pek3a"
        },
        "count": {{cluster.mysql.count}},
        "cpu": {{cluster.mysql.cpu}},
        "memory": {{cluster.mysql.memory}},
        "health_check": {
            "enable": true,
            "interval_sec": 60,
            "timeout_sec": 10,
            "action_timeout_sec": 30,
            "healthy_threshold": 3,
            "unhealthy_threshold": 3,
            "check_cmd": "/opt/k2fuxi/health.sh"
        },
        "instance_class": {{cluster.mysql.instance_class}}
    },
    {
        "role": "elasticsearch",
        "container": {
            "type": "kvm",
            "image": "img-auhtzcjb",
            "zone": "pek3a"
        },
        "count": {{cluster.elasticsearch.count}},
        "cpu": {{cluster.elasticsearch.cpu}},
        "memory": {{cluster.elasticsearch.memory}},
        "instance_class": {{cluster.elasticsearch.instance_class}},
        "health_check": {
            "enable": true,
            "interval_sec": 60,
            "timeout_sec": 10,
            "action_timeout_sec": 30,
            "healthy_threshold": 3,
            "unhealthy_threshold": 3,
            "check_cmd": "/opt/k2fuxi/health.sh"
        },
        "services": {
            "start": {
                "order": 3,
                "cmd": "/opt/k2fuxi/start.sh"
            },
            "stop": {
                "cmd": "/opt/k2fuxi/stop.sh"
            }
        }
    }]
}
